/**
 * Compute Components
 * Web Server, App Server, DB Server, Container, VM, Kubernetes
 */

import type { InfraComponent } from './types';

export const computeComponents: Record<string, InfraComponent> = {
  'web-server': {
    id: 'web-server',
    name: 'Web Server',
    nameKo: '웹 서버',
    category: 'compute',
    description: 'Serves web content and handles HTTP/HTTPS requests from clients.',
    descriptionKo: '웹 콘텐츠를 제공하고 클라이언트의 HTTP/HTTPS 요청을 처리합니다.',
    functions: [
      'HTTP/HTTPS request handling',
      'Static file serving',
      'Reverse proxy',
      'URL rewriting',
      'Compression (gzip/brotli)',
    ],
    functionsKo: [
      'HTTP/HTTPS 요청 처리',
      '정적 파일 서빙',
      '리버스 프록시',
      'URL 재작성',
      '압축 (gzip/brotli)',
    ],
    features: [
      'Virtual hosting',
      'SSL/TLS termination',
      'Access logging',
      'Caching',
    ],
    featuresKo: [
      '가상 호스팅',
      'SSL/TLS 종료',
      '접근 로깅',
      '캐싱',
    ],
    recommendedPolicies: [
      { name: 'HTTPS Only', nameKo: 'HTTPS 전용', description: 'Redirect HTTP to HTTPS', priority: 'critical', category: 'security' },
      { name: 'Security Headers', nameKo: '보안 헤더', description: 'Set HSTS, CSP, X-Frame-Options', priority: 'high', category: 'security' },
      { name: 'Access Logging', nameKo: '접근 로깅', description: 'Enable comprehensive access logging', priority: 'high', category: 'monitoring' },
      { name: 'Rate Limiting', nameKo: '요청 제한', description: 'Limit requests per IP', priority: 'medium', category: 'security' },
    ],
    tier: 'dmz',
    ports: ['80', '443'],
    protocols: ['HTTP/1.1', 'HTTP/2', 'HTTP/3'],
    vendors: ['NGINX', 'Apache', 'IIS', 'Caddy', 'LiteSpeed'],
  },

  'app-server': {
    id: 'app-server',
    name: 'Application Server',
    nameKo: '애플리케이션 서버',
    category: 'compute',
    description: 'Hosts and runs business logic and applications, processing requests from web servers.',
    descriptionKo: '비즈니스 로직과 애플리케이션을 호스팅하고 실행하며, 웹 서버의 요청을 처리합니다.',
    functions: [
      'Application hosting',
      'Business logic processing',
      'API serving',
      'Session management',
      'Transaction processing',
    ],
    functionsKo: [
      '애플리케이션 호스팅',
      '비즈니스 로직 처리',
      'API 서빙',
      '세션 관리',
      '트랜잭션 처리',
    ],
    features: [
      'Clustering support',
      'Connection pooling',
      'JMX monitoring',
      'Hot deployment',
    ],
    featuresKo: [
      '클러스터링 지원',
      '연결 풀링',
      'JMX 모니터링',
      '핫 디플로이',
    ],
    recommendedPolicies: [
      { name: 'Internal Only', nameKo: '내부 전용', description: 'Only accessible from web tier', priority: 'critical', category: 'access' },
      { name: 'Secure Coding', nameKo: '시큐어 코딩', description: 'Follow OWASP secure coding guidelines', priority: 'critical', category: 'security' },
      { name: 'Resource Limits', nameKo: '리소스 제한', description: 'Set memory and CPU limits', priority: 'high', category: 'performance' },
    ],
    tier: 'internal',
    ports: ['8080', '8443'],
    protocols: ['HTTP', 'gRPC', 'WebSocket'],
    vendors: ['Tomcat', 'JBoss/WildFly', 'WebLogic', 'WebSphere', 'Node.js'],
  },

  'db-server': {
    id: 'db-server',
    name: 'Database Server',
    nameKo: '데이터베이스 서버',
    category: 'compute',
    description: 'Stores, retrieves, and manages data, providing persistent storage for applications.',
    descriptionKo: '데이터를 저장, 검색, 관리하며 애플리케이션에 영구 저장소를 제공합니다.',
    functions: [
      'Data storage and retrieval',
      'Query processing (SQL/NoSQL)',
      'Transaction management (ACID)',
      'Replication',
      'Backup and recovery',
    ],
    functionsKo: [
      '데이터 저장 및 검색',
      '쿼리 처리 (SQL/NoSQL)',
      '트랜잭션 관리 (ACID)',
      '복제',
      '백업 및 복구',
    ],
    features: [
      'High availability clustering',
      'Read replicas',
      'Point-in-time recovery',
      'Query optimization',
    ],
    featuresKo: [
      '고가용성 클러스터링',
      '읽기 복제본',
      '특정 시점 복구',
      '쿼리 최적화',
    ],
    recommendedPolicies: [
      { name: 'Encryption at Rest', nameKo: '저장 시 암호화', description: 'Encrypt database files and backups', priority: 'critical', category: 'security' },
      { name: 'Network Isolation', nameKo: '네트워크 격리', description: 'Only allow app server connections', priority: 'critical', category: 'access' },
      { name: 'Regular Backups', nameKo: '정기 백업', description: 'Daily backups with weekly full backup', priority: 'critical', category: 'compliance' },
      { name: 'Audit Logging', nameKo: '감사 로깅', description: 'Log all data access and changes', priority: 'high', category: 'compliance' },
    ],
    tier: 'data',
    ports: ['3306', '5432', '1433', '27017'],
    protocols: ['MySQL', 'PostgreSQL', 'MSSQL', 'MongoDB'],
    vendors: ['MySQL', 'PostgreSQL', 'Oracle', 'Microsoft SQL Server', 'MongoDB'],
  },

  'container': {
    id: 'container',
    name: 'Container',
    nameKo: '컨테이너',
    category: 'compute',
    description: 'Lightweight, standalone executable package that includes everything needed to run an application.',
    descriptionKo: '애플리케이션 실행에 필요한 모든 것을 포함하는 경량의 독립 실행 패키지입니다.',
    functions: [
      'Application isolation',
      'Microservices deployment',
      'Consistent environment',
      'Rapid scaling',
      'CI/CD integration',
    ],
    functionsKo: [
      '애플리케이션 격리',
      '마이크로서비스 배포',
      '일관된 환경',
      '빠른 스케일링',
      'CI/CD 통합',
    ],
    features: [
      'Image-based deployment',
      'Resource limits (cgroups)',
      'Namespace isolation',
      'Layer caching',
    ],
    featuresKo: [
      '이미지 기반 배포',
      '리소스 제한 (cgroups)',
      '네임스페이스 격리',
      '레이어 캐싱',
    ],
    recommendedPolicies: [
      { name: 'Non-root User', nameKo: '비root 사용자', description: 'Run containers as non-root user', priority: 'critical', category: 'security' },
      { name: 'Image Scanning', nameKo: '이미지 스캔', description: 'Scan images for vulnerabilities', priority: 'critical', category: 'security' },
      { name: 'Resource Limits', nameKo: '리소스 제한', description: 'Set CPU and memory limits', priority: 'high', category: 'performance' },
      { name: 'Read-only Filesystem', nameKo: '읽기 전용 파일시스템', description: 'Use read-only root filesystem', priority: 'high', category: 'security' },
    ],
    tier: 'internal',
    vendors: ['Docker', 'containerd', 'CRI-O', 'Podman'],
  },

  'vm': {
    id: 'vm',
    name: 'Virtual Machine',
    nameKo: '가상머신',
    category: 'compute',
    description: 'Emulates a physical computer, running its own OS and applications in an isolated environment.',
    descriptionKo: '물리적 컴퓨터를 에뮬레이션하여 격리된 환경에서 자체 OS와 애플리케이션을 실행합니다.',
    functions: [
      'Full OS virtualization',
      'Hardware abstraction',
      'Snapshot and cloning',
      'Live migration',
      'Resource allocation',
    ],
    functionsKo: [
      '완전한 OS 가상화',
      '하드웨어 추상화',
      '스냅샷 및 복제',
      '라이브 마이그레이션',
      '리소스 할당',
    ],
    features: [
      'Hypervisor-based isolation',
      'Template-based deployment',
      'Dynamic resource scaling',
      'HA clustering',
    ],
    featuresKo: [
      '하이퍼바이저 기반 격리',
      '템플릿 기반 배포',
      '동적 리소스 스케일링',
      'HA 클러스터링',
    ],
    recommendedPolicies: [
      { name: 'Hardened Template', nameKo: '강화된 템플릿', description: 'Use hardened OS templates', priority: 'high', category: 'security' },
      { name: 'Regular Patching', nameKo: '정기 패치', description: 'Monthly OS and software patching', priority: 'critical', category: 'security' },
      { name: 'Backup Policy', nameKo: '백업 정책', description: 'Regular VM backups and snapshots', priority: 'high', category: 'compliance' },
    ],
    tier: 'internal',
    vendors: ['VMware vSphere', 'Microsoft Hyper-V', 'KVM', 'Proxmox', 'Nutanix'],
  },

  'kubernetes': {
    id: 'kubernetes',
    name: 'Kubernetes',
    nameKo: '쿠버네티스',
    category: 'compute',
    description: 'Container orchestration platform that automates deployment, scaling, and management of containerized applications.',
    descriptionKo: '컨테이너화된 애플리케이션의 배포, 스케일링, 관리를 자동화하는 컨테이너 오케스트레이션 플랫폼입니다.',
    functions: [
      'Container orchestration',
      'Auto-scaling (HPA/VPA)',
      'Self-healing',
      'Service discovery',
      'Rolling updates',
    ],
    functionsKo: [
      '컨테이너 오케스트레이션',
      '자동 스케일링 (HPA/VPA)',
      '자가 치유',
      '서비스 디스커버리',
      '롤링 업데이트',
    ],
    features: [
      'Declarative configuration',
      'Ingress management',
      'Secret management',
      'Resource quotas',
    ],
    featuresKo: [
      '선언적 구성',
      '인그레스 관리',
      '시크릿 관리',
      '리소스 쿼터',
    ],
    recommendedPolicies: [
      { name: 'RBAC', nameKo: 'RBAC', description: 'Enable Role-Based Access Control', priority: 'critical', category: 'access' },
      { name: 'Network Policies', nameKo: '네트워크 정책', description: 'Define pod-to-pod network policies', priority: 'critical', category: 'security' },
      { name: 'Pod Security Standards', nameKo: '파드 보안 표준', description: 'Enforce pod security policies', priority: 'critical', category: 'security' },
      { name: 'Resource Quotas', nameKo: '리소스 쿼터', description: 'Set namespace resource limits', priority: 'high', category: 'performance' },
    ],
    tier: 'internal',
    ports: ['6443', '10250'],
    vendors: ['Kubernetes', 'OpenShift', 'Rancher', 'EKS', 'AKS', 'GKE'],
  },
};
